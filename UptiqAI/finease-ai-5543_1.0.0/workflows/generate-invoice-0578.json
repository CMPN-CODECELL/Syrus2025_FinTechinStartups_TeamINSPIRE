{
  "_id": "1af828c3-c6ea-4117-82fa-3b616de83950",
  "aiPersonaId": "68477062-6637-4338-946b-731946563ad0",
  "integrationId": "generate-invoice-0578",
  "name": "Workflow for Generate Invoice",
  "publisherAccountId": "6a852086-e073-4065-8345-aff4b98d9ac1",
  "startTaskId": "1743136522171",
  "status": "Active",
  "tasks": [
    {
      "_id": "1743136522171",
      "type": "Display",
      "config": {
        "description": "Show data",
        "name": "Display",
        "type": "text",
        "text": "<p>Hi there! Intent $input.intent has been matched. <br>Please wait for a while......</p>",
        "rawText": "Hi there! Intent $input.intent has been matched. \nPlease wait for a while......",
        "formatVariables": []
      },
      "transitions": [
        {
          "name": "Default",
          "_id": "1743136522171-1743136610738",
          "nextTask": "1743136610738"
        }
      ]
    },
    {
      "_id": "1743136610738",
      "type": "VectorSearch",
      "config": {
        "description": "Vector search",
        "name": "Vector search",
        "vectorStoreId": "61a4db36-fe62-4931-a9d4-ab33692fa5fa",
        "query": "Analyse the user query $agent.query and give the status of that user as output. ",
        "k": 5,
        "filters": ""
      },
      "transitions": [
        {
          "name": "Default",
          "_id": "1743136610738-1743136974847",
          "nextTask": "1743136974847"
        },
        {
          "name": "Default",
          "_id": "1743136610738-1743140492833",
          "nextTask": "1743140492833"
        }
      ]
    },
    {
      "_id": "1743136739602",
      "type": "Display",
      "config": {
        "description": "Show data",
        "name": "Display (1)",
        "type": "text",
        "text": "<p><span class=\"text-inherit p-0 m-0 text-primary-dark bg-primary-light/80\" data-type=\"mention\" data-id=\"input.content\">$input.content</span> generating invoice please wait a while....</p>",
        "rawText": "$input.content generating invoice please wait a while....",
        "formatVariables": []
      },
      "transitions": [
        {
          "name": "Default",
          "_id": "1743136739602-1743139342247",
          "nextTask": "1743139342247"
        }
      ]
    },
    {
      "_id": "1743136974847",
      "type": "Prompt",
      "config": {
        "description": "Prompt for LLM",
        "name": "Prompt",
        "modelId": "56feb720-adb7-464a-8e6b-fd79a510ba5b",
        "systemPrompt": "Analyze the response from vector search and give me the final output as true : for status Paid and false : for Overdue or Pending. give me just true and false as output and nothing else. in case of error or notfound return notfound",
        "base64DocumentData": "",
        "documentIds": "",
        "responseFormat": "text",
        "query": "$input.retrievedDocs",
        "temperature": null
      },
      "transitions": [
        {
          "name": "Default",
          "clause": "Or",
          "rules": [
            {
              "type": "string",
              "path": "$output.content",
              "operator": "equal",
              "value": "true"
            }
          ],
          "_id": "1743136974847-1743136739602",
          "nextTask": "1743136739602"
        },
        {
          "name": "Default",
          "rules": [
            {
              "type": "string",
              "path": "$output.content",
              "operator": "equal",
              "value": "false"
            }
          ],
          "clause": "And",
          "_id": "1743136974847-1743138215230",
          "nextTask": "1743138215230"
        }
      ],
      "globalVariables": [
        {
          "name": "payment_status",
          "referencePath": "$output.content"
        }
      ]
    },
    {
      "_id": "1743138215230",
      "type": "Display",
      "config": {
        "description": "Show data",
        "name": "Display (1)",
        "type": "text",
        "text": "<p>Can't generate the invoice due to unpaid status.</p>",
        "rawText": "Can't generate the invoice due to unpaid status.",
        "formatVariables": []
      },
      "transitions": []
    },
    {
      "_id": "1743139342247",
      "type": "ContentGenerator",
      "config": {
        "description": "Generate content",
        "name": "Content Generator",
        "type": "Docx",
        "data": "$input.content",
        "fileName": "Invoice",
        "templateId": "e6d682f1-50ac-4494-821b-0c592005dcae"
      },
      "transitions": [
        {
          "name": "Default",
          "_id": "1743139342247-1743141087819",
          "nextTask": "1743141087819"
        }
      ]
    },
    {
      "_id": "1743140492833",
      "type": "Prompt",
      "config": {
        "description": "Prompt for LLM",
        "name": "Prompt (1)",
        "modelId": "56feb720-adb7-464a-8e6b-fd79a510ba5b",
        "systemPrompt": "Analyze the response from vector search and give me the final output as a json below:\n{\n  \"Transaction_ID\": \"TRN101\",\n  \"Client_Name\": \"T&G PVT LTD\",\n  \"Amount\": 15000,\n  \"Due_Date\": \"2025-03-10\",\n  \"Status\": \"Overdue\",\n  \"Contact_Email\": \"2022.tejas.gadge@ves.ac.in\",\n  \"Contact_Phone\": \"+919876543210\"\n}\nEnsure to only give the respective properly structured json as output and not any other stuff.",
        "base64DocumentData": "",
        "documentIds": "",
        "responseFormat": "json",
        "query": "$input.retrievedDocs",
        "temperature": null
      },
      "transitions": [
        {
          "name": "Default",
          "_id": "1743140492833-1743139342247",
          "nextTask": "1743139342247"
        }
      ],
      "globalVariables": []
    },
    {
      "_id": "1743141087819",
      "type": "Display",
      "config": {
        "description": "Show data",
        "name": "Display (1)",
        "formatVariables": [],
        "type": "link",
        "text": "<p><span class=\"text-inherit p-0 m-0 text-primary-dark bg-primary-light/80\" data-type=\"mention\" data-id=\"input.url\">$input.url</span> </p>",
        "rawText": "$input.url",
        "linkText": "Invoice ",
        "linkURL": "$input.url",
        "summaryContent": "",
        "label": "",
        "columns": "",
        "data": "",
        "enableExport": false,
        "suggestions": [
          ""
        ]
      },
      "transitions": []
    }
  ],
  "type": "Conversational",
  "version": "latest",
  "reactflow": {
    "viewport": {
      "x": -492.01875742321363,
      "y": 247.19010485504475,
      "zoom": 0.5
    },
    "nodes": [
      {
        "id": "0",
        "type": "Start",
        "position": {
          "x": 571,
          "y": 320
        },
        "data": {},
        "deletable": false,
        "measured": {
          "width": 240,
          "height": 136
        },
        "selected": false
      },
      {
        "position": {
          "x": 875.1601194777846,
          "y": 349
        },
        "type": "Display",
        "id": "1743136522171",
        "data": {},
        "measured": {
          "width": 260,
          "height": 78
        },
        "selected": false,
        "dragging": false
      },
      {
        "position": {
          "x": 1237.0800597388923,
          "y": 349
        },
        "type": "VectorSearch",
        "id": "1743136610738",
        "data": {},
        "measured": {
          "width": 260,
          "height": 78
        },
        "selected": false,
        "dragging": false
      },
      {
        "position": {
          "x": 2248.8737395787016,
          "y": 156.9274440424182
        },
        "type": "Display",
        "id": "1743136739602",
        "data": {},
        "measured": {
          "width": 260,
          "height": 78
        },
        "selected": false,
        "dragging": false
      },
      {
        "position": {
          "x": 1648.4365948831387,
          "y": 349
        },
        "type": "Prompt",
        "id": "1743136974847",
        "data": {},
        "measured": {
          "width": 260,
          "height": 78
        },
        "selected": false,
        "dragging": false
      },
      {
        "position": {
          "x": 2236.274529079753,
          "y": 535.2513136471105
        },
        "type": "Display",
        "id": "1743138215230",
        "data": {},
        "measured": {
          "width": 260,
          "height": 78
        },
        "selected": false,
        "dragging": false
      },
      {
        "position": {
          "x": 2733.585289657043,
          "y": 156.9274440424182
        },
        "type": "ContentGenerator",
        "id": "1743139342247",
        "data": {},
        "measured": {
          "width": 260,
          "height": 78
        },
        "selected": false,
        "dragging": false
      },
      {
        "position": {
          "x": 1682.7263541972616,
          "y": -35.94324965989366
        },
        "type": "Prompt",
        "id": "1743140492833",
        "data": {},
        "measured": {
          "width": 260,
          "height": 78
        },
        "selected": false,
        "dragging": false
      },
      {
        "position": {
          "x": 3133.2784332345786,
          "y": 156.9274440424182
        },
        "type": "Display",
        "id": "1743141087819",
        "data": {},
        "measured": {
          "width": 260,
          "height": 78
        },
        "selected": false,
        "dragging": false
      }
    ],
    "edges": [
      {
        "id": "0-1743136522171",
        "type": "Start",
        "source": "0",
        "target": "1743136522171",
        "markerEnd": {
          "type": "arrowclosed",
          "width": 22,
          "height": 22
        },
        "sourceHandle": "0-source-1",
        "targetHandle": "1743136522171-target-1",
        "selected": false
      },
      {
        "type": "Transition",
        "id": "1743136522171-1743136610738",
        "source": "1743136522171",
        "target": "1743136610738",
        "markerEnd": {
          "type": "arrowclosed",
          "width": 22,
          "height": 22
        },
        "sourceHandle": "1743136522171-source-1",
        "targetHandle": "1743136610738-target-1",
        "selected": false
      },
      {
        "type": "Transition",
        "id": "1743136610738-1743136974847",
        "source": "1743136610738",
        "target": "1743136974847",
        "markerEnd": {
          "type": "arrowclosed",
          "width": 22,
          "height": 22
        },
        "sourceHandle": "1743136610738-source-1",
        "targetHandle": "1743136974847-target-1",
        "selected": false
      },
      {
        "type": "Transition",
        "id": "1743136610738-1743140492833",
        "source": "1743136610738",
        "target": "1743140492833",
        "markerEnd": {
          "type": "arrowclosed",
          "width": 22,
          "height": 22
        },
        "sourceHandle": "1743136610738-source-2",
        "targetHandle": "1743140492833-target-1",
        "selected": false
      },
      {
        "type": "Transition",
        "id": "1743136739602-1743139342247",
        "source": "1743136739602",
        "target": "1743139342247",
        "markerEnd": {
          "type": "arrowclosed",
          "width": 22,
          "height": 22
        },
        "sourceHandle": "1743136739602-source-1",
        "targetHandle": "1743139342247-target-1",
        "selected": false
      },
      {
        "type": "Transition",
        "id": "1743136974847-1743136739602",
        "source": "1743136974847",
        "target": "1743136739602",
        "markerEnd": {
          "type": "arrowclosed",
          "width": 22,
          "height": 22
        },
        "sourceHandle": "1743136974847-source-1",
        "targetHandle": "1743136739602-target-1",
        "selected": false
      },
      {
        "type": "Transition",
        "id": "1743136974847-1743138215230",
        "source": "1743136974847",
        "target": "1743138215230",
        "markerEnd": {
          "type": "arrowclosed",
          "width": 22,
          "height": 22
        },
        "sourceHandle": "1743136974847-source-1",
        "targetHandle": "1743138215230-target-1",
        "selected": false
      },
      {
        "type": "Transition",
        "id": "1743139342247-1743141087819",
        "source": "1743139342247",
        "target": "1743141087819",
        "markerEnd": {
          "type": "arrowclosed",
          "width": 22,
          "height": 22
        },
        "sourceHandle": "1743139342247-source-1",
        "targetHandle": "1743141087819-target-1",
        "selected": false
      },
      {
        "id": "1743140492833-1743139342247",
        "source": "1743140492833",
        "target": "1743139342247",
        "type": "Transition",
        "markerEnd": {
          "type": "arrowclosed",
          "width": 22,
          "height": 22
        },
        "sourceHandle": "1743140492833-source-1",
        "targetHandle": "1743139342247-target-2",
        "selected": false
      }
    ]
  }
}